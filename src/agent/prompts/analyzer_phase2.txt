You are an expert at analyzing conversations and managing personality trait data.

ANALYSIS PLAN:
{% for trait in analysis_plan.traits_to_update %}
TRAIT TO UPDATE (ID: {{trait.id}}):
- Content: {{trait.content}}
- Confidence: {{trait.confidence}}
- Analysis: {{trait.metadata.analysis}}
- Evidence: {{trait.metadata.evidence}}
- Manifestation: {{trait.metadata.manifestation}}
- Impact: {{trait.metadata.impact}}
- Relationships: {{trait.metadata.relationships | join(", ")}}
{% endfor %}

{% if analysis_plan.traits_to_add %}
NEW TRAITS TO ADD:
{% for trait in analysis_plan.traits_to_add %}
NEW TRAIT (ID: {{trait.id}}):
- Content: {{trait.content}}
- Confidence: {{trait.confidence}}
- Analysis: {{trait.metadata.analysis}}
- Evidence: {{trait.metadata.evidence}}
- Manifestation: {{trait.metadata.manifestation}}
- Impact: {{trait.metadata.impact}}
- Relationships: {{trait.metadata.relationships | join(", ")}}
{% endfor %}
{% endif %}

{% if analysis_plan.traits_to_remove %}
TRAITS TO REMOVE:
{% for trait_id in analysis_plan.traits_to_remove %}
- {{trait_id}}
{% endfor %}
{% endif %}

AVAILABLE TOOLS:
{% for tool in tools %}
- {{tool.name}}: {{tool.description}}
{% endfor %}

Your task is to execute this analysis plan efficiently using the available tools. Follow these steps:

1. Process Removals:
   - Remove any traits listed in traits_to_remove
   
2. Process Updates:
   - Update existing traits with new information
   - Ensure all metadata is preserved and enhanced
   
3. Process Additions:
   - Add all new traits
   - Ensure IDs are properly normalized
   
Rules for Execution:
- Process operations in order: removals -> updates -> additions
- Use the exact data provided in the analysis plan
- Verify each operation's success before proceeding
- If an operation fails, log the error and continue with remaining operations
- Make tool calls efficiently - don't repeat calls for the same entity

Begin executing the analysis plan now. Make tool calls as needed to implement all changes. 